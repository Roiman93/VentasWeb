function hide_o_show(){$(".ui.sidebar").sidebar("toggle")}function myFunction(e){e.matches?($("#menu_tablet").hide(),$("#menu_mobil").show(),$("#div_h").hide()):($("#menu_tablet").show(),$("#div_h").show(),$("#menu_mobil").hide())}function validateForm(e){var s=$("#"+e+" input, #"+e+" select");$("#"+e+" .field").removeClass("error"),$("#"+e+" .ui.visible.attached.message").remove();var a=!1,i=!0,r={};return s.each((function(){var e=$(this),s=(e.prev("label").text().replace(":",""),e.val());switch(e.data("type")){case"text":const d=/^[a-zA-ZáéíóúÁÉÍÓÚñÑüÜ]+(\s[a-zA-ZáéíóúÁÉÍÓÚñÑüÜ]+)*$/;s&&d.test(s)||!e.prop("required")||e.val()?!e.prop("required")||s&&d.test(s)?(e.closest(".field").removeClass("error"),r[e.attr("name")]=e.prop("required")&&!e.val()?null:e.val()):(e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Solo se permite texto</div>'),i=!1):(e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">El campo es requerido y solo se permite texto</div>'),i=!1);break;case"address":const n=/^[a-zA-Z0-9\s.#-]+$/;s&&n.test(s)||!e.prop("required")||e.val()?s&&n.test(s)?e.prop("required")&&!e.val()?(e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Este campo es requerido</div>'),i=!1):(e.closest(".field").removeClass("error"),r[e.attr("name")]=e.val()):(e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Solo se permiten letras, números y los siguientes caracteres especiales: . #-</div>'),i=!1):(e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">El campo es requerido y solo se permiten letras, números y los siguientes caracteres especiales: . #-</div>'),i=!1);break;case"select":!e.prop("required")||e.val()||e.prop("disabled")?(e.closest(".field").removeClass("error"),r[e.attr("name")]=e.prop("required")&&!e.val()?null:e.val()):(e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Este campo es obligatorio</div>'),i=!1);break;case"checkbox":var l=$("input[type='radio'][name='"+e.attr("name")+"']"),o=1===l.filter(":checked").length;if(e.prop("required")&&!o)e.closest(".field").addClass("error"),a||(e.last().parent().after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Este campo es obligatorio</div>'),a=!0),i=!1;else{e.closest(".field").removeClass("error");var t=l.filter(":checked").val();r[e.attr("name")]=e.prop("required")&&!t?null:t}break;case"range":e.prop("required")&&0==e.val()&&!e.prop("disabled")?(e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Este campo es obligatorio </div>'),i=!1):(e.closest(".field").removeClass("error"),r[e.attr("name")]=e.prop("required")&&!e.val()?null:e.val());break;case"radio":const v=e.closest(".field").find('input[type="radio"]');!e.prop("required")||v.is(":checked")||e.prop("disabled")?(e.closest(".field").removeClass("error"),r[e.attr("name")]=e.prop("required")&&!e.val()?null:e.val()):(e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Este campo es obligatorio</div>'),i=!1);break;case"email":if(e.prop("required")&&!e.val())e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Este campo es obligatorio</div>'),i=!1;else{const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;s&&a.test(s)?(e.closest(".field").removeClass("error"),r[e.attr("name")]=e.prop("required")&&!e.val()?null:e.val()):(e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Por favor ingrese un correo electrónico válido</div>'),i=!1)}break;case"number":if(e.prop("required"))if(e.val()){/^\d+$/.test(s)?(e.closest(".field").removeClass("error"),r[e.attr("name")]=e.prop("required")&&!e.val()?null:e.val()):(e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Por favor ingrese un número válido</div>'),i=!1)}else e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Este campo es obligatorio</div>'),i=!1;else e.closest(".field").removeClass("error");break;case"tel":if(e.prop("required")&&!e.val())e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Este campo es obligatorio</div>'),i=!1;else{const a=/^\d{10}$/;s&&a.test(s)?(e.closest(".field").removeClass("error"),r[e.attr("name")]=e.prop("required")&&!e.val()?null:e.val()):(e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Por favor ingrese un número de teléfono válido</div>'),i=!1)}break;case"date":if(e.prop("required")&&!e.val())e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Este campo es obligatorio</div>'),i=!1;else{const a=/^\d{4}-\d{2}-\d{2}$/;s&&a.test(s)?(e.closest(".field").removeClass("error"),r[e.attr("name")]=e.prop("required")&&!e.val()?null:e.val()):(e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Por favor ingrese una fecha válida (formato: AAAA-MM-DD)</div>'),i=!1)}break;case"time":if($hora=/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e.val()),!e.prop("required")||e.val()||e.prop("disabled")){var c=Date.parse("01/01/1970 "+e.val());isNaN(c)?(e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">La hora seleccionada no es válida</div>'),i=!1):(e.closest(".field").removeClass("error"),r[e.attr("name")]=e.prop("required")&&!e.val()?null:e.val())}else e.closest(".field").addClass("error"),e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Este campo es obligatorio </div>'),i=!1}})),$(".message .close").on("click",(function(){$(this).closest(".message").transition("fade")})),1==i?r:i}function obtain(e,s){var a=$("#"+e+" input, #"+e+" select");if(null==s){var i=[];return a.each((function(){var e=$(this);e.val();const s=e.attr("name").replace(/\[\]/g,"");switch(e.data("type")){case"text":case"address":case"range":case"radio":case"email":case"date":case"time":case"number":case"tel":case"select":i[s]=e.val()?e.val():null;break;case"checkbox":var a=$("input[type='checkbox'][name='"+e.attr("name")+"']"),r=a.is(":checked");if(e.prop("required")&&!r)e.closest(".field").addClass("error"),messageShown||(e.after('<div class="ui visible attached message"><i class="close icon"></i><div class="header">Este campo es obligatorio</div>'),messageShown=!0),isValid=!1;else{e.closest(".field").removeClass("error");var l=[];a.each((function(){this.checked&&l.push($(this).val())})),i[e.attr("name")]=l}}})),i}a.each((function(){var e=$(this);const a=e.attr("name").replace(/\[\]/g,"");if(s.hasOwnProperty(a)){const i=s[a];switch(e.data("type")){case"radio":case"email":case"number":case"tel":case"time":case"range":case"address":case"text":e.val(i);break;case"select":e.find(`option[value="${i}"]`).prop("selected",!0);break;case"checkbox":const r=$("input[type='checkbox'][name='"+e.attr("name")+"']");Array.isArray(s[a])?s[a].forEach((function(e){r.filter("[value='"+e+"']").prop("checked",!0)})):r.filter("[value='"+s[a]+"']").prop("checked",!0)}}else console.log(`La clave ${a} no existe en el objeto`)}))}function validateTable(e){var s=document.getElementById(e);if(!s)return console.error("La tabla con el id "+e+" no existe."),!1;var a=s.rows;if(a.length<=1)return console.error("La tabla no tiene filas para validar."),!1;for(var i=a[0].cells.length,r=1;r<a.length;r++)if(a[r].cells.length!==i)return console.error("La fila "+(r+1)+" tiene una cantidad de celdas diferente a la primera fila."),!1;for(r=1;r<a.length;r++)for(var l=0;l<i;l++){var o=a[r].cells[l],t=o.querySelector("input, select, textarea");if(t&&""===t.value)return o.classList.add("error"),o.classList.remove("success"),console.error("La celda ("+(r+1)+", "+(l+1)+") está vacía o no tiene un valor válido."),!1;t&&(o.classList.add("success"),o.classList.remove("error"))}return!0}function valideKey(e){var s=e.which?e.which:e.keyCode;return 8==s||s>=48&&s<=57}function lettersOnly(e){var s=(e=e||event).charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0;return!(s>31&&(s<65||s>90)&&(s<97||s>122))}function isEmpty(e){return!e||0===e.length}function isKeyExists(e,s){return null!=e[s]}function clearProductInfo(e){e.forEach(e=>{let s=$("#"+e.id);"val"===e.tipo?void 0!==e.value&&s.val(e.value):void 0!==e.value&&s.html(e.value),void 0!==e.disabled&&s.prop("disabled",e.disabled),void 0!==e.action&&s[e.action](),void 0!==e.visibility&&s.css("visibility",e.visibility),void 0!==e.focus&&s.focus()})}function generarPDF(e,s){var a=parseInt(window.screen.width/2-500),i=parseInt(window.screen.height/2-400);$url="factura/generaFactura.php?cl="+e+"&f="+s,window.open($url,"factura","left"+a+",top="+i+",height=800,width=1000,scrolbar=si,location=no,resizable=si,menubar=no")}window.addEventListener("load",(function(){var e=window.matchMedia("(max-width: 768px)");myFunction(e),e.addListener(myFunction),$(".ui.button").popup(),$(".message .close").on("click",(function(){$(this).closest(".message").transition("fade")}))}));